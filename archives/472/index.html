<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="MBRjun-Blog"><title>DNS-over-HTTP/3 和 DNS-over-QUIC 的区别 - MBRjun-Blog</title><meta name="author" content="MBRjun"><meta name="keywords" content="MBRjun,Linux,服务器,软路由,PVE,原神,maimai,JavaScript,Windows,Microsoft,git,Node.JS,"><link rel="icon" href="https://cos.mbrjun.cn/PICS/LG4v3avatar144px.jpg"><link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml"><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"MBRjun","sameAs":["https://github.com/MBRjun","https://twitter.com/MBRjun","mailto:mbrjun@foxmail.com"],"image":"https://cos.mbrjun.cn/PICS/LG4v3avatar144px.jpg"},"articleBody":"DNS-over-HTTP&#x2F;3 和 DNS-over-QUIC 两种协议都基于 UDP，且传输数据都经过 TLS 加密，但是这两种协议是完全不同的  \n\n\n\nQUIC先来简单了解下 QUIC 协议：  \nQUIC 和 TCP、UDP 一样，是传输层协议，不过 QUIC 协议是基于加密 UDP 的（使用 TLS 1.3 来加密），QUIC 还具有 TCP 的一些优点。  \nDNS-over-QUICDNS-over-QUIC 是通过 QUIC 加密的 DNS 协议，有时会被简写为 DoQ，这个协议于 2022 年 5 月 发布为 RFC 9250，它比较类似 DNS-over-TLS，但是 DNS-over-QUIC 会比 DNS-over-TLS 更快一些      \ncurl 无法与 DNS-over-QUIC 服务器进行握手和数据交换，因为 DNS-over-QUIC 只是经过 QUIC 封装的原生 DNS，并不能处理 HTTP 请求。尝试使用 curl 来连接 DNS-over-QUIC 服务器，得到的输出如下：  \n1234567891011$ curl https://dns.mbrjun.cn:784 --http3 -v*   Trying 127.0.0.1:784...* Connect socket 5 over QUIC to 127.0.0.1:784*  CAfile: /etc/ssl/certs/ca-certificates.crt*  CApath: none* ngtcp2_conn_handle_expiry returned error: ERR_HANDSHAKE_TIMEOUT* connect to 127.0.0.1 port 784 failed: Failed sending data to the peer* Failed to connect to dns.mbrjun.cn port 784 after 10050 ms: Failed sending data to the peer* Closing connection 0curl: (55) ngtcp2_conn_handle_expiry returned error: ERR_HANDSHAKE_TIMEOUT\n\n可以看到 QUIC 套接字已经创建完成，但是服务器并不响应这个 HTTP 请求  \nDNS-over-QUIC &#x3D; QUIC + DNS  \nDNS-over-HTTP&#x2F;3DNS-over-HTTP&#x2F;3，有时也会被称作 DoH3，也是一种加密的 DNS 协议，这种协议在 Android 11 中通过增量更新得到了 Android 的原生支持  \nDNS-over-HTTP&#x2F;3 使用 HTTP 作为传输层协议，本质上是 DNS-over-HTTPS 的一种：DNS-over-HTTPS 允许使用 HTTP&#x2F;3、HTTP&#x2F;2、HTTP&#x2F;1.1、HTTP&#x2F;1.0、HTTP&#x2F;0.9 作为底层协议（实际上，只有前三种常被使用），而 DNS-over-HTTP&#x2F;3 是指使用 HTTP&#x2F;3 做底层协议的 DNS-over-HTTPS  \nHTTP&#x2F;3 协议基于 QUIC，可以说 HTTP&#x2F;3 &#x3D; QUIC + HTTP  \nDNS-over-HTTP&#x2F;3 &#x3D; QUIC + HTTP + DNS  \ncurl 可以和 DNS-over-HTTP&#x2F;3 服务器进行握手和数据交换，因为 DNS-over-HTTP&#x2F;3 是经过 QUIC 封装的 HTTP，在 HTTP 上提供 DNS 查询的功能，因此可以处理 HTTP 请求。尝试使用 curl 来连接 DNS-over-HTTP&#x2F;3 服务器，得到的输出如下：  \n12345678910111213141516171819202122232425262728$ curl https://dns.mbrjun.cn/dns-query --http3 -vI*   Trying 127.0.0.1:443...* Connect socket 5 over QUIC to 127.0.0.1:443*  CAfile: /etc/ssl/certs/ca-certificates.crt*  CApath: none*  subjectAltName: host &quot;dns.mbrjun.cn&quot; matched cert&#x27;s &quot;*.mbrjun.cn&quot;* Verified certificate just fine* Connected to dns.mbrjun.cn (127.0.0.1) port 443 (#0)* h2h3 [:method: HEAD]* h2h3 [:path: /dns-query]* h2h3 [:scheme: https]* h2h3 [:authority: dns.mbrjun.cn]* h2h3 [user-agent: curl/7.87.1-DEV-MBRjun]* h2h3 [accept: */*]* Using HTTP/3 Stream ID: 0 (easy handle 0x5612c27f71b0)&gt; HEAD /dns-query HTTP/3&gt; Host: dns.mbrjun.cn&gt; user-agent: curl/7.87.1-DEV-MBRjun&gt; accept: */*&gt; * ngh3_stream_recv returns 0 bytes and EAGAIN* ngh3_stream_recv returns 0 bytes and EAGAIN* ngh3_stream_recv returns 0 bytes and EAGAIN&lt; HTTP/3 400 HTTP/3 400 &lt; (headers)(headers)...\n\n可以看到握手成功，服务器返回了 HTTP 状态码 400（这是正常的。为什么？因为 dns-query 没有提供 DNS 查询的参数，所以服务器返回了 Bad Request）  \n对比和总结12DNS-over-QUIC = QUIC + DNSDNS-over-HTTP/3 = QUIC + HTTP + DNS\n\nDoH3 比 DoQ 多了一层 HTTP 封装，因此可以使用类似 curl 的工具进行查询  \n由于 DoH3 有一层 HTTP 封装，所以它在传输时会带上 Request Header 和 Response Header，这其中可能包含了 User-Agent 之类的信息，这种信息对于 DNS 来说通常是毫无作用的，理论上，DoH3 会比 DoQ 更慢，但实际上带来的影响是极其少的（可能只会慢个 1-2ms）  \n端口号：DoQ 更类似于 DoT，通常使用端口号 443、784 和 853，而 DoH3 是 DoH 的一种，通常使用端口 443。  \n兼容性：从 Android 11 开始，DoH3 得到了部分支持（谷歌设置了白名单，只有少数公共 DNS 服务器会启用 DoH3），从 iOS 15 （macOS Monterty）开始，Apple 设备支持了 DoQ（仅可通过 iCloud Private Relay 开启，不支持自定义服务器），现在 DoH3 的用户数量和 DoQ 的差不多  \n\n附：AdGuard 认为使用 HTTP 作为传输层协议会引起很多不必要的风险，使用 HTTP 发送 DNS 请求会导致下列结果：\n\nHTTP cookies\n其他 HTTP 消息头（HTTP headers）（包括 Authentication, User-Agent, Accept-Language）\n给预谋犯更多机会\nTracking using ETag\n\n","dateCreated":"2023-02-01T11:36:45+08:00","dateModified":"2023-02-06T16:12:00+08:00","datePublished":"2023-02-01T11:36:45+08:00","description":"DNS-over-HTTP&#x2F;3 和 DNS-over-QUIC 两种协议都基于 UDP，且传输数据都经过 TLS 加密，但是这两种协议是完全不同的  ","headline":"DNS-over-HTTP/3 和 DNS-over-QUIC 的区别","image":["https://cos.mbrjun.cn/IMGS/2023/02/04/r4.webp"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.mbrjun.cn/archives/472/"},"publisher":{"@type":"Organization","name":"MBRjun","sameAs":["https://github.com/MBRjun","https://twitter.com/MBRjun","mailto:mbrjun@foxmail.com"],"image":"https://cos.mbrjun.cn/PICS/LG4v3avatar144px.jpg","logo":{"@type":"ImageObject","url":"https://cos.mbrjun.cn/PICS/LG4v3avatar144px.jpg"}},"url":"https://www.mbrjun.cn/archives/472/","keywords":"DNS, HTTP/3, QUIC","thumbnailUrl":"https://cos.mbrjun.cn/IMGS/2023/02/04/r4.webp"}</script><meta name="description" content="DNS-over-HTTP/3 和 DNS-over-QUIC 两种协议都基于 UDP，且传输数据都经过 TLS 加密，但是这两种协议是完全不同的"><meta property="og:type" content="blog"><meta property="og:title" content="DNS-over-HTTP/3 和 DNS-over-QUIC 的区别"><meta property="og:url" content="https://www.mbrjun.cn/archives/472/index.html"><meta property="og:site_name" content="MBRjun-Blog"><meta property="og:description" content="DNS-over-HTTP/3 和 DNS-over-QUIC 两种协议都基于 UDP，且传输数据都经过 TLS 加密，但是这两种协议是完全不同的"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2023-02-01T03:36:45.000Z"><meta property="article:modified_time" content="2023-02-06T08:12:00.000Z"><meta property="article:author" content="MBRjun"><meta property="article:tag" content="DNS"><meta property="article:tag" content="HTTP/3"><meta property="article:tag" content="QUIC"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@MBRjun"><meta property="og:image" content="https://cos.mbrjun.cn/PICS/LG4v3avatar144px.jpg"><meta property="og:image" content="https://cos.mbrjun.cn/IMGS/2023/02/04/r4.webp"><meta class="swiftype" name="image" data-type="enum" content="https://cos.mbrjun.cn/IMGS/2023/02/04/r4.webp"><!--STYLES--><link rel="stylesheet" href="/assets/css/style.min.css?v=6d754da5b56820433354a3e0ba64f9d221de5531"><!--STYLES END--><!--SCRIPTS--><script async="" defer="" src="/assets/js/script.min.js?v=6d754da5b56820433354a3e0ba64f9d221de5531"></script><!--SCRIPTS END--><!--PRELOAD--><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="//github.githubassets.com"><link rel="dns-prefetch" href="//avatars.githubusercontent.com"><link rel="preconnect" href="https://cos.mbrjun.cn"><link rel="preload" as="font" crossorigin="anonymous" type="font/woff2" href="/assets/fonts/GoogleSansDisplay-BR.woff2"><link rel="preload" as="font" crossorigin="anonymous" type="font/woff2" href="/assets/fonts/GoogleSansDisplay-LR.woff2"><link rel="preload" as="font" crossorigin="anonymous" type="font/woff2" href="/assets/fonts/fa-solid-900.woff2"><link rel="preload" as="font" crossorigin="anonymous" type="font/woff2" href="/assets/fonts/fa-brands-400.woff2"><!--PRELOAD END--><script>"use strict";var scripts=["/assets/js/webp-polyfill.min.js?v=2.0.1"];function parallelLoadScripts(e,t){"object"!=typeof e&&(e=[e]);for(var n=document.getElementsByTagName("head")[0]||document.documentElement,o=[],l=0,i=0;i<e.length;i++)o[i]=document.createElement("script"),o[i].setAttribute("type","text/javascript"),o[i].onload=o[i].onreadystatechange=function(){l++,this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this),l===e.length&&"function"==typeof t&&t()},o[i].setAttribute("src",e[i]),n.appendChild(o[i])}"ActiveXObject"in window&&parallelLoadScripts(scripts,function(){console.log("[hexo-webp-polyfill] polyfilling document"),(new webpHero.WebpMachine).polyfillDocument()});</script></head><body><div id="blog"><!-- Define author's picture --><header id="header" data-behavior="2"><i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i><div class="header-title"><a class="header-title-link" href="/" aria-label="">MBRjun-Blog</a></div><a class="header-right-picture" href="/about" aria-label="打开链接: /about"><img class="header-picture" src="https://cos.mbrjun.cn/PICS/LG4v3avatar144px.jpg" alt="作者的图片"></a></header><!-- Define author's picture --><nav id="sidebar" data-behavior="2"><div class="sidebar-container"><div class="sidebar-profile"><a href="/#about" aria-label="阅读有关作者的更多信息"><img class="sidebar-profile-picture" src="https://cos.mbrjun.cn/PICS/LG4v3avatar144px.jpg" alt="作者的图片"></a><h4 class="sidebar-profile-name">MBRjun</h4><h5 class="sidebar-profile-bio"><p>我们生活在大地上，但我们的梦想超越天空</p></h5></div><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/" rel="noopener" title="首页"><i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i> <span class="sidebar-button-desc">首页</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-categories" rel="noopener" title="分类"><i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i> <span class="sidebar-button-desc">分类</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-tags" rel="noopener" title="标签"><i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i> <span class="sidebar-button-desc">标签</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-archives" rel="noopener" title="归档"><i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i> <span class="sidebar-button-desc">归档</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/links" rel="noopener" title="友情链接"><i class="sidebar-button-icon fa fa-link" aria-hidden="true"></i> <span class="sidebar-button-desc">友情链接</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="https://www.travellings.cn/go.html" target="_blank" rel="noopener" title="开往"><i class="sidebar-button-icon fa fa-paper-plane" aria-hidden="true"></i> <span class="sidebar-button-desc">开往</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="https://github.com/MBRjun" target="_blank" rel="noopener" title="GitHub"><i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i> <span class="sidebar-button-desc">GitHub</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="https://twitter.com/MBRjun" target="_blank" rel="noopener" title="Twitter"><i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i> <span class="sidebar-button-desc">Twitter</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="mailto:mbrjun@foxmail.com" target="_blank" rel="noopener" title="邮箱"><i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i> <span class="sidebar-button-desc">邮箱</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/atom.xml" rel="noopener" title="RSS"><i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i> <span class="sidebar-button-desc">RSS</span></a></li></ul></div></nav><div id="main" data-behavior="2" class="hasCoverMetaIn"><article class="post"><div class="post-header main-content-wrap text-left"><h1 class="post-title">DNS-over-HTTP/3 和 DNS-over-QUIC 的区别</h1><div class="post-meta"><time datetime="2023-02-01T11:36:45+08:00">2023 年 2 月 1 日 </time><span>发布在 </span><a class="category-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a></div></div><div class="post-content markdown"><div class="main-content-wrap"><p>DNS-over-HTTP/3 和 DNS-over-QUIC 两种协议都基于 UDP，且传输数据都经过 TLS 加密，但是这两种协议是完全不同的</p><span id="more"></span><hr><h2 id="QUIC"><a href="#QUIC" class="headerlink" title="QUIC"></a>QUIC</h2><p>先来简单了解下 QUIC 协议：</p><p>QUIC 和 TCP、UDP 一样，是传输层协议，不过 QUIC 协议是基于加密 UDP 的（使用 TLS 1.3 来加密），QUIC 还具有 TCP 的一些优点。</p><h2 id="DNS-over-QUIC"><a href="#DNS-over-QUIC" class="headerlink" title="DNS-over-QUIC"></a>DNS-over-QUIC</h2><p>DNS-over-QUIC 是通过 QUIC 加密的 DNS 协议，有时会被简写为 DoQ，这个协议于 2022 年 5 月 发布为 <a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/rfc9250/">RFC 9250</a>，它比较类似 DNS-over-TLS，但是 DNS-over-QUIC 会比 DNS-over-TLS 更快一些</p><p>curl 无法与 DNS-over-QUIC 服务器进行握手和数据交换，因为 DNS-over-QUIC 只是经过 QUIC 封装的原生 DNS，并不能处理 HTTP 请求。<br>尝试使用 curl 来连接 DNS-over-QUIC 服务器，得到的输出如下：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">$ curl https://dns.mbrjun.cn:784 --http3 -v<br>*   Trying 127.0.0.1:784...<br>* Connect socket 5 over QUIC to 127.0.0.1:784<br>*  CAfile: /etc/ssl/certs/ca-certificates.crt<br>*  CApath: none<br>* ngtcp2_conn_handle_expiry returned error: ERR_HANDSHAKE_TIMEOUT<br>* connect to 127.0.0.1 port 784 failed: Failed sending data to the peer<br>* Failed to connect to dns.mbrjun.cn port 784 after 10050 ms: Failed sending data to the peer<br>* Closing connection 0<br>curl: (55) ngtcp2_conn_handle_expiry returned error: ERR_HANDSHAKE_TIMEOUT<br><br></code></pre></td></tr></tbody></table></figure><p>可以看到 QUIC 套接字已经创建完成，但是服务器并不响应这个 HTTP 请求</p><p>DNS-over-QUIC = QUIC + DNS</p><h2 id="DNS-over-HTTP-3"><a href="#DNS-over-HTTP-3" class="headerlink" title="DNS-over-HTTP/3"></a>DNS-over-HTTP/3</h2><p>DNS-over-HTTP/3，有时也会被称作 DoH3，也是一种加密的 DNS 协议，这种协议在 Android 11 中通过增量更新得到了 Android 的原生支持</p><p>DNS-over-HTTP/3 使用 HTTP 作为传输层协议，本质上是 DNS-over-HTTPS 的一种：<br>DNS-over-HTTPS 允许使用 HTTP/3、HTTP/2、HTTP/1.1、HTTP/1.0、HTTP/0.9 作为底层协议（实际上，只有前三种常被使用），而 DNS-over-HTTP/3 是指使用 HTTP/3 做底层协议的 DNS-over-HTTPS</p><p>HTTP/3 协议基于 QUIC，可以说 HTTP/3 = QUIC + HTTP</p><p>DNS-over-HTTP/3 = QUIC + HTTP + DNS</p><p>curl 可以和 DNS-over-HTTP/3 服务器进行握手和数据交换，因为 DNS-over-HTTP/3 是经过 QUIC 封装的 HTTP，在 HTTP 上提供 DNS 查询的功能，因此可以处理 HTTP 请求。<br>尝试使用 curl 来连接 DNS-over-HTTP/3 服务器，得到的输出如下：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">$ curl https://dns.mbrjun.cn/dns-query --http3 -vI<br>*   Trying 127.0.0.1:443...<br>* Connect socket 5 over QUIC to 127.0.0.1:443<br>*  CAfile: /etc/ssl/certs/ca-certificates.crt<br>*  CApath: none<br>*  subjectAltName: host "dns.mbrjun.cn" matched cert's "*.mbrjun.cn"<br>* Verified certificate just fine<br>* Connected to dns.mbrjun.cn (127.0.0.1) port 443 (#0)<br>* h2h3 [:method: HEAD]<br>* h2h3 [:path: /dns-query]<br>* h2h3 [:scheme: https]<br>* h2h3 [:authority: dns.mbrjun.cn]<br>* h2h3 [user-agent: curl/7.87.1-DEV-MBRjun]<br>* h2h3 [accept: */*]<br>* Using HTTP/3 Stream ID: 0 (easy handle 0x5612c27f71b0)<br>&gt; HEAD /dns-query HTTP/3<br>&gt; Host: dns.mbrjun.cn<br>&gt; user-agent: curl/7.87.1-DEV-MBRjun<br>&gt; accept: */*<br>&gt; <br>* ngh3_stream_recv returns 0 bytes and EAGAIN<br>* ngh3_stream_recv returns 0 bytes and EAGAIN<br>* ngh3_stream_recv returns 0 bytes and EAGAIN<br>&lt; HTTP/3 400 <br>HTTP/3 400 <br>&lt; (headers)<br>(headers)<br>...<br></code></pre></td></tr></tbody></table></figure><p>可以看到握手成功，服务器返回了 HTTP 状态码 400（这是正常的。为什么？因为 dns-query 没有提供 DNS 查询的参数，所以服务器返回了 Bad Request）</p><h2 id="对比和总结"><a href="#对比和总结" class="headerlink" title="对比和总结"></a>对比和总结</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">DNS-over-QUIC = QUIC + DNS<br>DNS-over-HTTP/3 = QUIC + HTTP + DNS<br></code></pre></td></tr></tbody></table></figure><p>DoH3 比 DoQ 多了一层 HTTP 封装，因此可以使用类似 curl 的工具进行查询</p><p>由于 DoH3 有一层 HTTP 封装，所以它在传输时会带上 Request Header 和 Response Header，这其中可能包含了 User-Agent 之类的信息，这种信息对于 DNS 来说通常是毫无作用的，理论上，<strong>DoH3 会比 DoQ 更慢</strong>，但实际上带来的影响是极其少的（可能只会慢个 1-2ms）</p><p>端口号：DoQ 更类似于 DoT，通常使用端口号 443、784 和 853，而 DoH3 是 DoH 的一种，通常使用端口 443。</p><p>兼容性：从 Android 11 开始，DoH3 得到了部分支持（谷歌设置了白名单，只有少数公共 DNS 服务器会启用 DoH3），从 iOS 15 （macOS Monterty）开始，Apple 设备支持了 DoQ（仅可通过 iCloud Private Relay 开启，不支持自定义服务器），现在 DoH3 的用户数量和 DoQ 的差不多</p><hr><p>附：AdGuard <a target="_blank" rel="noopener" href="https://adguard.com/zh_cn/blog/dns-over-quic.html">认为</a>使用 HTTP 作为传输层协议会引起很多不必要的风险，使用 HTTP 发送 DNS 请求会导致下列结果：</p><ul><li>HTTP cookies</li><li>其他 HTTP 消息头（HTTP headers）（包括 Authentication, User-Agent, Accept-Language）</li><li>给预谋犯更多机会</li><li>Tracking using ETag</li></ul></div></div><div id="post-footer" class="post-footer main-content-wrap"><div class="post-footer-tags"><span class="text-color-light text-small">标签</span><br><a class="tag tag--primary tag--small t-none-link" href="/tags/DNS/" rel="tag">DNS</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/HTTP-3/" rel="tag">HTTP/3</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/QUIC/" rel="tag">QUIC</a></div><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/archives/473/" data-tooltip="在 RHEL/CentOS 7 上安装 vnstat" aria-label="上一篇: 在 RHEL/CentOS 7 上安装 vnstat"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">上一篇</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/archives/471/" data-tooltip="iOS 16.3 RC (20D47) 更新内容" aria-label="下一篇: iOS 16.3 RC (20D47) 更新内容"><span class="hide-xs hide-sm text-small icon-mr">下一篇</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://www.mbrjun.cn/archives/472/" title="分享到 Twitter" aria-label="分享到 Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://www.mbrjun.cn/archives/472/" title="分享到 Weibo" aria-label="分享到 Weibo"><i class="fab fa-weibo" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.mbrjun.cn/archives/472/&amp;title=DNS-over-HTTP/3 和 DNS-over-QUIC 的区别" title="分享到 QQ" aria-label="分享到 QQ"><i class="fab fa-qq" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://www.mbrjun.cn/archives/472/" title="分享到 Qzone" aria-label="分享到 Qzone"><i class="fa fa-star" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div><script src="https://giscus.mbrjun.cn/client.js" data-repo="MBRjun/MBRjun-Blog" data-repo-id="R_kgDOIbI33Q" data-category="Blog" data-category-id="DIC_kwDOIbI33c4CTUTq" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light_tritanopia" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async=""></script></div></article><footer id="footer" class="main-content-wrap"><span class="copyrights"><a target="_blank" rel="noopener" href="https://github.com/MBRjun/MBRjun-Blog">GitHub 源代码</a> - <a target="_blank" rel="noopener" href="https://github.com/MBRjun/MBRjun-Blog/blob/main/LICENSE">LICENSE(CC BY-SA 3)</a><br></span><span class="text-small"><a target="_blank" href="https://beian.miit.gov.cn" rel="nofollow noopener">津ICP备20002670号</a> - <a target="_blank" href="http://www.beian.gov.cn" rel="nofollow noopener">津公网安备12010102001086号</a><br></span><span class="copyrights">Copyrights © 2023 MBRjun. All Rights Reserved.</span></footer><script async="" defer="" data-website-id="d1e9e8b4-ed73-416a-b8e7-ae518e698da6" src="https://delightful.mbrjun.cn/delightful.js?v=2.2.0-1"></script></div><div id="bottom-bar" class="post-bottom-bar" data-behavior="2"><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/archives/473/" data-tooltip="在 RHEL/CentOS 7 上安装 vnstat" aria-label="上一篇: 在 RHEL/CentOS 7 上安装 vnstat"><i class="fa fa-angle-left" aria-hidden="true"></i> <span class="hide-xs hide-sm text-small icon-ml">上一篇</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/archives/471/" data-tooltip="iOS 16.3 RC (20D47) 更新内容" aria-label="下一篇: iOS 16.3 RC (20D47) 更新内容"><span class="hide-xs hide-sm text-small icon-mr">下一篇</span> <i class="fa fa-angle-right" aria-hidden="true"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen"><i class="fa fa-share-alt" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://www.mbrjun.cn/archives/472/" title="分享到 Twitter" aria-label="分享到 Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://www.mbrjun.cn/archives/472/" title="分享到 Weibo" aria-label="分享到 Weibo"><i class="fab fa-weibo" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.mbrjun.cn/archives/472/&amp;title=DNS-over-HTTP/3 和 DNS-over-QUIC 的区别" title="分享到 QQ" aria-label="分享到 QQ"><i class="fab fa-qq" aria-hidden="true"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://www.mbrjun.cn/archives/472/" title="分享到 Qzone" aria-label="分享到 Qzone"><i class="fa fa-star" aria-hidden="true"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben"><i class="fa fa-list" aria-hidden="true"></i></a></li></ul></div></div><div id="share-options-bar" class="share-options-bar" data-behavior="2"><i id="btn-close-shareoptions" class="fa fa-times"></i><ul class="share-options"><li class="share-option"><a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https://www.mbrjun.cn/archives/472/" aria-label="分享到 Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://www.mbrjun.cn/archives/472/" aria-label="分享到 Weibo"><i class="fab fa-weibo" aria-hidden="true"></i><span>分享到 Weibo</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.mbrjun.cn/archives/472/&amp;title=DNS-over-HTTP/3 和 DNS-over-QUIC 的区别" aria-label="分享到 QQ"><i class="fab fa-qq" aria-hidden="true"></i><span>分享到 QQ</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://www.mbrjun.cn/archives/472/" aria-label="分享到 Qzone"><i class="fa fa-star" aria-hidden="true"></i><span>分享到 Qzone</span></a></li></ul></div></div><div id="about"><div id="about-card"><div id="about-btn-close"><i class="fa fa-times"></i></div><img id="about-card-picture" src="https://cos.mbrjun.cn/PICS/LG4v3avatar144px.jpg" alt="作者的图片"><h4 id="about-card-name">MBRjun</h4><div id="about-card-bio"><p>我们生活在大地上，但我们的梦想超越天空</p></div><div id="about-card-job"><i class="fa fa-briefcase"></i><br><p>学生</p></div><div id="about-card-location"><i class="fa fa-map-marker-alt"></i><br>地球</div></div></div><div id="cover" style="background-image:url('https://cos.mbrjun.cn/IMGS/2023/03/23/4419f34e-9353-4b44-a6dd-ebb1db958fc5.webp');"></div><!-- 
█▀▄▀█ █▄▄ █▀█ ░░█ █░█ █▄░█ ▄▄ █▄▄ █░░ █▀█ █▀▀
█░▀░█ █▄█ █▀▄ █▄█ █▄█ █░▀█ ░░ █▄█ █▄▄ █▄█ █▄█
Commit 6d754da5b56820433354a3e0ba64f9d221de5531
Build on: runner@Azure-GitHub-Actions (running kernel: 5.15.0-1042-azure)
Date: 2023-08-08 Preset: CI --></body></html>